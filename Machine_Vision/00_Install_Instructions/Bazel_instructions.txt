# Install Protoc before installing bazel:

git clone https://github.com/bazelbuild/bazel/

nano scripts/bootstrap/compile.sh

Alt + G 117

# Edit line 117:

run "${JAVAC}" -classpath "${classpath}" -sourcepath "${sourcepath}" \
      -d "${output}/classes" -source "$JAVA_VERSION" -target "$JAVA_VERSION" \
      -encoding UTF-8 "@${paramfile}"

# Sets the maximum size of the Java heap to 500 MB, using the -J-Xmx500M flag:

run "${JAVAC}" -classpath "${classpath}" -sourcepath "${sourcepath}" \
      -d "${output}/classes" -source "$JAVA_VERSION" -target "$JAVA_VERSION" \
      -encoding UTF-8 "@${paramfile}" -J-Xmx500M

# Edit tools/cpp/cc_configure.bzl :

nano tools/cpp/lib_cc_configure.bzl 

# Specify CPU architecture by placing the line: return "arm" around line 133 (at the beginning of the _get_cpu_value function):

...
"""Compute the cpu_value based on the OS name."""
return "arm"
...

# Compile Bazel from source:

sudo ./compile.sh

# Copy the new binary from output/bazel to /usr/local/bin directory.

sudo cp output/bazel /usr/local/bin/bazel

# Verify bazel installation by typing bazel in commandline:

bazel